<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Reveal - Sleek UI</title>
    <meta name="description" content="Review AI-generated insights for your events" />
    <style>
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;

    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;

    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;

    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;

    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;

    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;

    --accent: 240 3.7% 15.9%;
    --accent-foreground: 240 4.8% 95.9%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;

    --radius: 0.75rem;

    --sidebar-background: 240 10% 3.9%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 350 89% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
    
    --event-highlight: 262 83% 76%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "ss01", "ss02", "cv01", "cv02", "cv03";

    color: #ffffff;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  }

  html {
    @apply scroll-smooth;
  }
}

@layer components {
  .date-card {
    @apply relative overflow-hidden rounded-2xl p-3 sm:p-4 transition-all duration-300;
    background: linear-gradient(135deg, rgba(58, 53, 95, 0.8) 0%, rgba(58, 53, 95, 0.4) 100%);
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    width: 160px;
    height: 160px;
    min-height: 160px;
  }

  .date-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 36px rgba(0, 0, 0, 0.2);
  }

  .date-card-teal {
    background: linear-gradient(135deg, rgba(26, 77, 77, 0.8) 0%, rgba(26, 77, 77, 0.4) 100%);
  }

  .date-card-pink {
    background: linear-gradient(135deg, rgba(105, 54, 95, 0.8) 0%, rgba(105, 54, 95, 0.4) 100%);
  }

  .date-card-brown {
    background: linear-gradient(135deg, rgba(95, 77, 54, 0.8) 0%, rgba(95, 77, 54, 0.4) 100%);
  }

  /* Today's date card highlight */
  .date-card.today {
    border: 2px solid rgb(156, 118, 255);
    box-shadow: 0 0 15px rgba(156, 118, 255, 0.5);
    transform: translateY(-4px) scale(1.05);
    position: relative;
    z-index: 2;
  }

  .date-card.today::before {
    content: "TODAY";
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgb(156, 118, 255);
    color: white;
    font-size: 10px;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 10px;
  }
  
  /* Custom carousel styles */
  .carousel-container {
    width: 100%;
    overflow-x: auto;
    padding: 10px 0;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
  }
  
  .carousel-container::-webkit-scrollbar {
    display: none; /* Chrome/Safari/Opera */
  }
  
  .hide-scrollbar {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  
  .carousel-content {
    display: flex;
    padding-bottom: 10px;
  }
  
  /* Desktop layout - make cards fill the width */
  @media (min-width: 768px) {
    .carousel-content {
      justify-content: space-between;
      width: 100% !important;
    }
  }

  .date-indicator {
    @apply absolute top-0 left-0 w-full h-1 bg-white-20;
    opacity: 0.2;
  }

  .response-count {
    @apply absolute top-3 right-3 bg-white-20 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium;
  }

  .response-card {
    @apply bg-secondary/50 backdrop-blur-xl border border-white/10 shadow-lg rounded-2xl p-6 w-full;
    background: rgba(30, 30, 46, 0.7);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
  }

  .glass-effect {
    backdrop-filter: blur(16px);
    background: rgba(30, 30, 46, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
  }
  
  .orb {
    @apply fixed rounded-full bg-gradient-radial opacity-20 pointer-events-none;
    filter: blur(60px);
  }

  .container {
    width: 100%;
    margin: 0 auto;
    padding: 1rem;
    max-width: 1792px;
  }

  @media (min-width: 640px) {
    .container {
      padding: 1.5rem;
    }
  }

  @media (min-width: 768px) {
    .container {
      padding: 2rem;
    }
  }

  .header {
    text-align: center;
    margin-bottom: 3rem;
  }

  #page-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  #page-subtitle {
    color: rgba(255, 255, 255, 0.7);
    font-size: 1.1rem;
  }

  .back-button {
    display: flex;
    align-items: center;
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 9999px;
    transition: all 0.2s;
    cursor: pointer;
  }

  .back-button:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  /* Carousel Styles */
  .carousel {
    position: relative;
    margin-bottom: 2rem;
  }

  .carousel-content {
    display: flex;
    gap: 1rem;
    overflow-x: auto;
    padding: 1rem 0;
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .carousel-content::-webkit-scrollbar {
    display: none;
  }

  .carousel-item {
    flex: 0 0 auto;
  }

  .carousel-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
  }

  .carousel-btn {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
  }

  .carousel-btn:hover {
    background: rgba(255, 255, 255, 0.2);
  }

  /* Today's Events Section */
  .today-events {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  margin-bottom: 2rem;
  width: 1445px !important; /* Force consistent width */
  max-width: 100%;
  margin-left: auto;
  margin-right: auto;
}

@media (min-width: 768px) {
  .today-events {
    grid-template-columns: 3fr 2fr;
  }
}

  .card {
    border-radius: 16px;
    overflow: hidden;
  }

  .card-header {
    padding: 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .card-title-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .card-title {
    font-size: 1.25rem;
    font-weight: 600;
  }

  .card-title-small {
    font-size: 1rem;
    font-weight: 600;
  }

  .calendar-check-icon, .calendar-icon {
    color: rgb(156, 118, 255);
  }

  .today-date {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
  }

  .card-content {
    padding: 1.5rem;
  }

  .scroll-area {
    max-height: 500px;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
  }

  .scroll-area::-webkit-scrollbar {
    width: 6px;
  }

  .scroll-area::-webkit-scrollbar-track {
    background: transparent;
  }

  .scroll-area::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
  }

  /* Event Items */
  .event-item {
    padding: 1rem;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.05);
    margin-bottom: 1rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .event-item:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  .event-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .event-info h3 {
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .event-time {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.6);
  }

  .event-arrow {
    background: transparent;
    border: none;
    cursor: pointer;
  }

  /* Preview Cards */
  .preview-cards {
    display: grid;
    gap: 1.5rem;
  }

  .preview-item {
    display: flex;
    align-items: center;
    padding: 0.75rem;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.05);
    margin-bottom: 0.75rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .preview-item:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  .preview-date {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: rgba(156, 118, 255, 0.2);
    border-radius: 8px;
    width: 44px;
    height: 44px;
    margin-right: 1rem;
  }

  .preview-date-month {
    font-size: 0.7rem;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.8);
  }

  .preview-date-day {
    font-size: 1.1rem;
    font-weight: 600;
  }

  .preview-content {
    flex: 1;
  }

  .preview-title {
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.25rem;
  }

  .preview-subtitle {
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.6);
  }

  .preview-arrow {
    margin-left: 0.5rem;
    color: rgba(255, 255, 255, 0.5);
  }

  /* AI Badge */
  .ai-badge {
    background: linear-gradient(135deg, #9c76ff 0%, #8a5cf6 100%);
    border-radius: 6px;
    padding: 0.25rem 0.5rem;
    font-size: 0.7rem;
    font-weight: 700;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 0.75rem;
  }

  /* Response View */
  .response-card-header {
    display: flex;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  .response-card-icon {
    background: rgb(156, 118, 255);
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 0.75rem;
  }

  .response-card-date {
    font-size: 1.1rem;
    font-weight: 600;
  }

  .response-card-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
  }

  .response-card-schedule {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 1.25rem;
    margin-bottom: 1.5rem;
  }

  .schedule-header {
    display: flex;
    align-items: center;
    font-weight: 600;
    margin-bottom: 1rem;
  }

  .schedule-item {
    display: flex;
    padding: 0.5rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .schedule-item:last-child {
    border-bottom: none;
  }

  .schedule-time {
    width: 100px;
    font-weight: 500;
    color: rgb(156, 118, 255);
  }

  .ai-response {
    background: rgba(156, 118, 255, 0.05);
    border-radius: 12px;
    padding: 1.25rem;
  }

  .ai-response-header {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
  }

  .ai-header-text {
    flex: 1;
    font-weight: 600;
  }

  .ready-badge {
    background: rgba(39, 174, 96, 0.2);
    color: #27AE60;
    font-size: 0.7rem;
    font-weight: 600;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
  }

  .ai-response-text {
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  .line-clamp {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .show-more-btn {
    background: none;
    border: none;
    color: rgb(156, 118, 255);
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    padding: 0;
    margin-bottom: 1rem;
  }

  .resources-box {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    padding: 1rem;
  }

  .resources-title {
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.75rem;
  }

  .resources-list {
    list-style-type: disc;
    padding-left: 1.5rem;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.8);
  }

  .resources-list li {
    margin-bottom: 0.5rem;
  }

  /* Toast */
  .toast-container {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    z-index: 100;
  }

  .toast {
    background: rgba(30, 30, 46, 0.9);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: white;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    margin-top: 0.75rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    animation: fade-in 0.3s ease forwards;
  }

  .toast.hidden {
    opacity: 0;
    transform: translateY(20px);
  }

  /* Events View */
  .events-list {
    max-width: 900px;
    margin: 0 auto;
  }

  .event-list-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 2rem;
    font-size: 1.2rem;
    font-weight: 600;
  }

  .event-grid {
    display: grid;
    gap: 1rem;
  }

  /* Widescreen orbs positioning */
  .w-500 {
    width: 500px;
    height: 500px;
  }

  .w-400 {
    width: 400px;
    height: 400px;
  }

  .w-300 {
    width: 300px;
    height: 300px;
  }

  .top-neg100 {
    top: -100px;
  }

  .left-neg100 {
    left: -100px;
  }

  .bottom-neg50 {
    bottom: -50px;
  }

  .right-neg50 {
    right: -50px;
  }

  .top-40p {
    top: 40%;
  }

  .left-20p {
    left: 20%;
  }

  .bg-purple-400-10 {
    background: rgba(167, 139, 250, 0.1);
  }

  .bg-teal-400-10 {
    background: rgba(45, 212, 191, 0.1);
  }

  .bg-pink-400-10 {
    background: rgba(244, 114, 182, 0.1);
  }

  .bg-white-5 {
    background: rgba(255, 255, 255, 0.05);
  }

  .bg-white-10 {
    background: rgba(255, 255, 255, 0.1);
  }

  .bg-white-20 {
    background: rgba(255, 255, 255, 0.2);
  }

  .text-white-50 {
    color: rgba(255, 255, 255, 0.5);
  }

  .text-white-70 {
    color: rgba(255, 255, 255, 0.7);
  }

  .flex {
    display: flex;
  }

  .flex-col {
    flex-direction: column;
  }

  .items-center {
    align-items: center;
  }

  .justify-center {
    justify-content: center;
  }

  .h-full {
    height: 100%;
  }

  .w-full {
    width: 100%;
  }

  .text-sm {
    font-size: 0.875rem;
  }

  .text-xs {
    font-size: 0.75rem;
  }

  .text-4xl {
    font-size: 2.25rem;
  }

  .font-medium {
    font-weight: 500;
  }

  .font-bold {
    font-weight: 700;
  }

  .mt-1 {
    margin-top: 0.25rem;
  }

  .mt-2 {
    margin-top: 0.5rem;
  }

  .mt-4 {
    margin-top: 1rem;
  }

  .mb-4 {
    margin-bottom: 1rem;
  }

  .mr-1 {
    margin-right: 0.25rem;
  }

  .mr-2 {
    margin-right: 0.5rem;
  }

  .max-w-3xl {
    max-width: 48rem;
  }

  .mx-auto {
    margin-left: auto;
    margin-right: auto;
  }

  .mb-6 {
    margin-bottom: 1.5rem;
  }

  .h-4 {
    height: 1rem;
  }

  .w-4 {
    width: 1rem;
  }

  .w-16 {
    width: 4rem;
  }

  .h-16 {
    height: 4rem;
  }

  .rounded-full {
    border-radius: 9999px;
  }

  .py-12 {
    padding-top: 3rem;
    padding-bottom: 3rem;
  }

  .text-center {
    text-align: center;
  }

  .text-xl {
    font-size: 1.25rem;
  }

  .py-8 {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }

  .hidden {
    display: none;
  }

  .transition-all {
    transition-property: all;
  }

  .duration-300 {
    transition-duration: 300ms;
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease forwards;
  }
}

@keyframes float {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
  100% {
    transform: translateY(0);
  }
}

@keyframes pulse-slow {
  0% {
    box-shadow: 0 0 0 0 rgba(156, 118, 255, 0.4);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(156, 118, 255, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(156, 118, 255, 0);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@layer utilities {
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-pulse-slow {
    animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}
.date-card.future-date {
  opacity: 0.5;
  cursor: not-allowed;
}

.response-count {
  position: absolute;
  top: -8px;
  right: -8px;
  background-color: rgb(156, 118, 255);
  color: white;
  border-radius: 9999px;
  padding: 2px 8px;
  font-size: 12px;
  font-weight: 600;
}

.date-card:hover:not(.future-date) {
  transform: translateY(-2px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}
.delete-btn {
    cursor: pointer;
    background: #fff;
    border: solid 1px #ccc;
    color: #333;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1em;
    line-height: 1;
    transition: background 0.2s ease, color 0.2s ease;
  }
  .delete-btn:hover {
    background: red;
    color: #fff;
  }

          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #020617 0%, #312e81 50%, #581c87 100%);
            min-height: 100vh;
            color: white;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Grid Background */
        .grid-background {
            position: absolute;
            inset: 0;
            opacity: 0.1;
            background-image: 
                linear-gradient(rgba(56, 189, 248, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(56, 189, 248, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        

        /* Enhanced Header */
        .header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .back-button {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            background: rgba(51, 65, 85, 0.5);
            backdrop-filter: blur(40px);
            border-radius: 1rem;
            border: 1px solid rgba(71, 85, 105, 1);
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            border-color: rgba(6, 182, 212, 0.5);
            background: rgba(71, 85, 105, 0.5);
            transform: scale(1.05);
        }

        .back-button svg {
            width: 20px;
            height: 20px;
            transition: transform 0.3s ease;
        }

        .back-button:hover svg {
            transform: translateX(-4px);
        }

        .header-content {
            flex: 1;
        }

        .header-icon-container {
            position: relative;
            padding: 0.75rem;
            background: linear-gradient(135deg, #06b6d4, #8b5cf6);
            border-radius: 1rem;
            margin-bottom: 0.5rem;
        }

        .header-icon-container::after {
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            background: #10b981;
            border-radius: 50%;
            animation: ping 2s infinite;
        }

        @keyframes ping {
            0% { opacity: 1; transform: scale(1); }
            75%, 100% { opacity: 0; transform: scale(2); }
        }

        .header-icon {
            width: 24px;
            height: 24px;
            color: white;
        }

        .main-title {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, #06b6d4, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .main-subtitle {
            font-size: 1.25rem;
            color: #cbd5e1;
        }

        /* Date and Stats Header */
        .date-stats-header {
            margin-bottom: 2rem;
        }

        .date-stats-container {
            background: rgba(51, 65, 85, 0.3);
            backdrop-filter: blur(40px);
            border-radius: 1.5rem;
            border: 1px solid rgba(71, 85, 105, 1);
            padding: 1.5rem;
        }

        .date-stats-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .date-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .calendar-icon {
            width: 24px;
            height: 24px;
            color: #06b6d4;
        }

        .date-content h2 {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 0.25rem;
        }

        .date-content p {
            color: #94a3b8;
        }

        .stats-grid {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .stat-value.green { color: #10b981; }
        .stat-value.blue { color: #3b82f6; }

        .stat-label {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        .stat-divider {
            width: 1px;
            height: 2rem;
            background: #475569;
        }

        /* Response Cards Grid */
        .responses-grid {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .response-card {
            background: rgba(51, 65, 85, 0.3);
            backdrop-filter: blur(40px);
            border-radius: 1.5rem;
            border: 1px solid rgba(71, 85, 105, 1);
            padding: 2rem;
            cursor: pointer;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .response-card:nth-child(1) { animation-delay: 0ms; }
        .response-card:nth-child(2) { animation-delay: 200ms; }
        .response-card:nth-child(3) { animation-delay: 400ms; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .response-card:hover {
            border-color: rgba(6, 182, 212, 0.5);
            transform: scale(1.02) translateY(-4px);
            box-shadow: 0 20px 40px rgba(6, 182, 212, 0.1);
        }

        .response-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.05), rgba(139, 92, 246, 0.05));
            border-radius: 1.5rem;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        .response-card:hover::before {
            opacity: 1;
        }

        .card-content {
            align-items: flex-start;
            gap: 1.5rem;
        }

        /* Date Badge */
        .date-badge {
            flex-shrink: 0;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2));
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 1rem;
            padding: 1rem;
            text-align: center;
        }

        .date-month {
            font-size: 0.875rem;
            font-weight: 500;
            color: #c4b5fd;
            margin-bottom: 0.25rem;
        }

        .date-day {
            font-size: 3rem;
            font-weight: bold;
            color: white;
            line-height: 1;
            margin-bottom: 0.25rem;
        }

        .date-year {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        /* Main Content */
        .card-main {
            flex: 1;
        }

        .card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 0.75rem;
            transition: color 0.3s ease;
        }

        .response-card:hover .card-title {
            color: #a5f3fc;
        }

        .card-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 0.875rem;
            color: #94a3b8;
            margin-bottom: 0.75rem;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .meta-icon {
            width: 16px;
            height: 16px;
        }

        .clock-icon { color: #94a3b8; }
        .zap-icon { color: #eab308; }
        .target-icon { color: #10b981; }

        .card-right {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        /* AI Score Circle */
        .ai-score-container {
            text-align: center;
        }

        .ai-score-circle {
            position: relative;
            width: 64px;
            height: 64px;
        }

        .ai-score-bg {
            width: 64px;
            height: 64px;
            transform: rotate(-90deg);
        }

        .score-bg-path {
            fill: none;
            stroke: rgb(51, 65, 85);
            stroke-width: 2;
        }

        .score-progress-path {
            fill: none;
            stroke: rgb(6, 182, 212);
            stroke-width: 2;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .ai-score-value {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            font-weight: bold;
            color: #06b6d4;
        }

        .ai-score-label {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 0.25rem;
        }

        .chevron-icon {
            width: 24px;
            height: 24px;
            color: #94a3b8;
            transition: all 0.3s ease;
        }

        .response-card:hover .chevron-icon {
            color: #06b6d4;
            transform: translateX(4px);
        }

        .card-description {
            color: #cbd5e1;
            font-size: 1.125rem;
            margin-bottom: 1rem;
            transition: color 0.3s ease;
        }

        .response-card:hover .card-description {
            color: #e2e8f0;
        }

        /* Key Topics */
        .key-topics {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .topic-tag {
            padding: 0.25rem 0.75rem;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2));
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 9999px;
            font-size: 0.875rem;
            color: #67e8f9;
        }

        /* Status Indicator */
        .card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .status-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .status-completed {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #6ee7b7;
        }

        .status-processing {
            background: rgba(251, 146, 60, 0.2);
            border: 1px solid rgba(251, 146, 60, 0.3);
            color: #fdba74;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-dot.green { background: #10b981; }
        .status-dot.orange { background: #f97316; }

        .sparkles-icon {
            width: 16px;
            height: 16px;
            color: #f97316;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .neural-enhanced {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #94a3b8;
        }

        .brain-icon {
            width: 16px;
            height: 16px;
        }

        /* Stats Footer */
        .stats-footer {
            margin-top: 3rem;
            display: flex;
            justify-content: center;
        }

        .stats-container {
            background: rgba(51, 65, 85, 0.3);
            backdrop-filter: blur(40px);
            border-radius: 1.5rem;
            border: 1px solid rgba(71, 85, 105, 1);
            padding: 1.5rem;
        }

        .stats-content {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .stats-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .stats-icon {
            width: 24px;
            height: 24px;
        }

        .trending-icon { color: #10b981; }
        .star-icon { color: #eab308; fill: currentColor; }
        .brain-icon-large { color: #8b5cf6; }

        .stats-values {
            display: flex;
            flex-direction: column;
        }

        .stats-number {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .stats-number.green { color: #6ee7b7; }
        .stats-number.yellow { color: #fde047; }
        .stats-number.purple { color: #c4b5fd; }

        .stats-description {
            font-size: 0.875rem;
            color: #94a3b8;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
                margin-bottom: 2rem;
            }

            .back-button {
                align-self: flex-start;
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }

            .back-button svg {
                width: 16px;
                height: 16px;
            }

            .main-title {
                font-size: 2.5rem;
            }

            .main-subtitle {
                font-size: 1rem;
            }

            .date-stats-container {
                padding: 1rem;
            }

            .date-stats-content {
                flex-direction: column;
                gap: 1rem;
            }

            .date-info {
                width: 100%;
            }

            .date-content h2 {
                font-size: 1.5rem;
            }

            .stats-grid {
                justify-content: space-around;
                width: 100%;
            }

            .response-card {
                padding: 1.5rem;
            }

            .card-content {
                flex-direction: column;
                gap: 1rem;
            }

            .date-badge {
                align-self: flex-start;
                padding: 0.75rem;
            }

            .date-day {
                font-size: 2.5rem;
            }

            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .card-title {
                font-size: 1.5rem;
            }

            .card-meta {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .card-right {
                align-self: flex-end;
            }

            .card-footer {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .stats-content {
                flex-direction: column;
                gap: 1rem;
            }

            .stats-item {
                justify-content: center;
            }

            .stat-divider {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.5rem;
            }

            .main-title {
                font-size: 2rem;
            }

            .date-stats-container,
            .response-card,
            .stats-container {
                border-radius: 1rem;
            }

            .response-card {
                padding: 1rem;
            }

            .card-title {
                font-size: 1.25rem;
            }

            .card-description {
                font-size: 1rem;
            }

            .date-badge {
                padding: 0.5rem;
            }

            .date-day {
                font-size: 2rem;
            }

            .ai-score-circle {
                width: 48px;
                height: 48px;
            }

            .ai-score-bg {
                width: 48px;
                height: 48px;
            }

            .ai-score-value {
                font-size: 0.75rem;
            }

            .topic-tag {
                font-size: 0.75rem;
                padding: 0.2rem 0.5rem;
            }

            .status-badge {
                padding: 0.4rem 0.8rem;
                font-size: 0.75rem;
            }

            .neural-enhanced {
                font-size: 0.75rem;
            }

            .back-button span {
                display: none;
            }

            .header-icon-container {
                padding: 0.5rem;
            }

            .header-icon {
                width: 20px;
                height: 20px;
            }

            .date-content h2 {
                font-size: 1.25rem;
            }

            .date-content p {
                font-size: 0.875rem;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .stats-number {
                font-size: 1rem;
            }

            .stats-description {
                font-size: 0.75rem;
            }
        }

        @media (max-width: 320px) {
            .main-title {
                font-size: 1.75rem;
            }

            .card-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.25rem;
            }

            .key-topics {
                gap: 0.25rem;
            }

            .topic-tag {
                font-size: 0.7rem;
                padding: 0.15rem 0.4rem;
            }
        }
        .preview-cards {
    display: flex !important;
    flex-direction: column !important;
    gap: 1.5rem !important;
  }
      .today-intelligence {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(51, 65, 85, 0.3);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(71, 85, 105, 1);
            border-radius: 1.5rem;
            padding: 2rem;
            transition: all 0.5s ease;
        }

        .today-intelligence:hover {
            border-color: rgba(6, 182, 212, 0.3);
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .icon-container {
            position: relative;
            padding: 0.75rem;
            background: linear-gradient(135deg, #06b6d4, #8b5cf6);
            border-radius: 1rem;
        }

        .icon-container::after {
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            background: #10b981;
            border-radius: 50%;
            animation: ping 2s infinite;
        }

        @keyframes ping {
            0% { opacity: 1; transform: scale(1); }
            75%, 100% { opacity: 0; transform: scale(2); }
        }

        .icon {
            width: 24px;
            height: 24px;
            color: white;
        }

        .header-content h2 {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 0.5rem;
        }

        .header-content p {
            color: #94a3b8;
        }

        .ai-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 9999px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .ai-status span {
            font-size: 0.875rem;
            color: #6ee7b7;
            font-weight: 500;
        }

        .events-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .event-card {
            position: relative;
            background: linear-gradient(135deg, rgba(71, 85, 105, 0.5), rgba(55, 65, 81, 0.5));
            backdrop-filter: blur(40px);
            border-radius: 1.5rem;
            padding: 1.5rem;
            border: 1px solid rgba(71, 85, 105, 1);
            cursor: pointer;
            transition: all 0.5s ease;
            overflow: hidden;
        }

        .event-card:hover {
            border-color: rgba(6, 182, 212, 0.5);
            transform: translateY(-4px) scale(1.01);
            box-shadow: 0 20px 40px rgba(6, 182, 212, 0.1);
        }

        .event-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.05), rgba(139, 92, 246, 0.05));
            border-radius: 1.5rem;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        .event-card:hover::before {
            opacity: 1;
        }

        .priority-indicator {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .priority-high { background: #ef4444; }
        .priority-medium { background: #eab308; }
        .priority-low { background: #10b981; }

        .event-content {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
        }

        .event-main {
            flex: 1;
        }

        .event-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.75rem;
        }

        .time-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #06b6d4;
            font-weight: 500;
        }

        .confidence-badge {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.75rem;
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 9999px;
        }

        .confidence-badge span {
            font-size: 0.75rem;
            color: #c4b5fd;
        }

        .responses-badge {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.75rem;
            background: rgba(234, 179, 8, 0.2);
            border: 1px solid rgba(234, 179, 8, 0.3);
            border-radius: 9999px;
        }

        .responses-badge span {
            font-size: 0.75rem;
            color: #fde047;
        }

        .event-title {
            font-size: 1.25rem;
            font-weight: bold;
            color: white;
            margin-bottom: 0.75rem;
            transition: color 0.3s ease;
        }

        .event-card:hover .event-title {
            color: #a5f3fc;
        }

        .event-description {
            color: #cbd5e1;
            margin-bottom: 1rem;
            transition: color 0.3s ease;
        }

        .event-card:hover .event-description {
            color: #e2e8f0;
        }

        .ai-insight {
            background: rgba(51, 65, 85, 0.5);
            border-radius: 1rem;
            padding: 1rem;
            border: 1px solid rgba(71, 85, 105, 1);
        }

        .insight-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .insight-header span {
            font-size: 0.875rem;
            color: #fde047;
            font-weight: 500;
        }

        .insight-text {
            font-size: 0.875rem;
            color: #94a3b8;
        }

        .lightbulb-icon {
            width: 16px;
            height: 16px;
            color: #fbbf24;
        }

        .brain-icon {
            width: 12px;
            height: 12px;
            color: #c4b5fd;
        }

        .star-icon {
            width: 12px;
            height: 12px;
            color: #fbbf24;
            fill: currentColor;
        }

        .clock-icon {
            width: 20px;
            height: 20px;
            color: #06b6d4;
        }

        .calendar-icon {
            width: 24px;
            height: 24px;
            color: white;
        }

        .zap-icon {
            width: 16px;
            height: 16px;
            color: #10b981;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .today-intelligence {
                padding: 1.5rem;
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .header-left {
                width: 100%;
            }

            .header-content h2 {
                font-size: 1.5rem;
            }

            .ai-status {
                align-self: flex-end;
            }

            .event-meta {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .event-title {
                font-size: 1.125rem;
            }

            .icon-container {
                padding: 0.5rem;
            }

            .icon {
                width: 20px;
                height: 20px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 0.5rem;
            }

            .today-intelligence {
                padding: 1rem;
                border-radius: 1rem;
            }

            .header-content h2 {
                font-size: 1.25rem;
            }

            .event-card {
                padding: 1rem;
                border-radius: 1rem;
            }

            .event-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .ai-insight {
                padding: 0.75rem;
            }

            .confidence-badge,
            .responses-badge {
                padding: 0.2rem 0.5rem;
            }

            .confidence-badge span,
            .responses-badge span {
                font-size: 0.7rem;
            }

            .ai-status {
                padding: 0.4rem 0.8rem;
            }

            .ai-status span {
                font-size: 0.8rem;
            }
        }
        @media (max-width: 600px) {
  #response-view .container {
    padding: 0.5rem !important;
    max-width: 100vw !important;
  }
  #response-view .main-content {
    max-width: 100vw !important;
    padding: 0 !important;
  }
  #response-view .event-info-card,
  #response-view .ai-prompt-card,
  #response-view .plan-container {
    max-width: 100vw !important;
    min-width: 0 !important;
    padding: 1rem !important;
    border-radius: 0.75rem !important;
    margin: 0 auto 1rem auto !important;
    box-sizing: border-box !important;
  }
  #response-view .tab-content {
    padding: 0 !important;
  }
  #response-view .content-grid {
    flex-direction: column !important;
    align-items: center !important;
    gap: 1rem !important;
  }
}
#response-view,
#calendar-view {
  overflow: visible !important;
  max-height: none !important;
}
.responses-grid, .events-container {
  overflow: visible !important;
  height: auto !important;
}
.phase-card{
  width: 100% !important;
}
@media (min-width: 641px) {
  #calendar-view {
    margin-left: 50px !important;
  }
}
#mobileSidebarHamburger {
  background: rgba(30, 41, 59, 0.92) !important;
  border: 1.5px solid rgba(71, 85, 105, 0.45) !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.18) !important;
  color: #a78bfa !important;
  transition: background 0.2s, box-shadow 0.2s !important;
}
#mobileSidebarHamburger:hover {
  background: rgba(51, 65, 85, 1) !important;
  box-shadow: 0 4px 16px rgba(0,0,0,0.22) !important;
}
#mobileSidebarHamburger svg {
  color: #a78bfa !important;
  width: 28px !important;
  height: 28px !important;
  display: block !important;
}
/* Clean arrow buttons - just the SVG, no decoration */
/* --- ARROW BUTTONS --- */
/* --- ARROW BUTTONS --- */
.phase-stepper-arrow {
  background: linear-gradient(145deg, #1f1f2d, #181825);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 16px;
  padding: 1rem;
  min-width: 56px;
  min-height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #e5e5e5;
  box-shadow:
    inset 0 0 0 rgba(0, 0, 0, 0),
    0 4px 14px rgba(0, 0, 0, 0.35),
    0 0 0 1px rgba(255, 255, 255, 0.03);
  transition:
    background 0.3s ease,
    transform 0.2s ease,
    box-shadow 0.3s ease,
    color 0.2s ease;
}
.phase-stepper-arrow svg {
  width: 1.6rem;
  height: 1.6rem;
  fill: currentColor;
}
.phase-stepper-arrow:hover:not(:disabled) {
  background: linear-gradient(145deg, #2b2b3c, #1e1e2d);
  transform: scale(1.08);
  color: #a78bfa;
  box-shadow:
    0 6px 20px rgba(0, 0, 0, 0.4),
    0 0 6px rgba(167, 139, 250, 0.2);
}
.phase-stepper-arrow:disabled {
  opacity: 0.25;
  cursor: not-allowed;
}


/* --- "SHOW ALL STEPS" BUTTON --- */
.phase-stepper-showall-btn {
  margin-top: 1rem;
  padding: 1.1rem 2.25rem;
  border-radius: 9999px;
  font-size: 1.1rem;
  font-weight: 600;
  background: rgba(36, 36, 50, 0.7);
  color: #f4f4f5;
  border: 1px solid rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(10px);
  box-shadow:
    inset 0 0 0 rgba(0, 0, 0, 0),
    0 6px 18px rgba(0, 0, 0, 0.35),
    0 0 0 1px rgba(255, 255, 255, 0.02);
  transition:
    background-color 0.25s ease,
    transform 0.25s ease,
    box-shadow 0.25s ease,
    color 0.2s ease;
}
.phase-stepper-showall-btn:hover {
  background: rgba(50, 50, 70, 0.85);
  transform: scale(1.05);
  color: #a78bfa;
  box-shadow:
    0 8px 28px rgba(0, 0, 0, 0.45),
    0 0 8px rgba(167, 139, 250, 0.15);
}





@media (min-width: 899px) {
  .generate-button, .initiate-button{
    flex:1 1 180px;
  }
}



.phase-card.phase-break {
  background: linear-gradient(120deg, #a78bfa 0%, #6366f1 100%) !important;
  border: 3px dashed #a78bfa !important;
  color: #fff !important;
  box-shadow: 0 6px 32px rgba(156,118,255,0.18) !important;
  opacity: 0.98 !important;
}
.phase-card.phase-break .phase-title {
  color: #fff !important;
  letter-spacing: 0.04em;
}
.phase-card.phase-break::before {
  content: "Break";
  position: absolute;
  top: 22px;
  right: 32px;
  background: #fff;
  color: #a78bfa;
  font-size: 1.05rem;
  font-weight: 800;
  padding: 0.3rem 1.2rem;
  border-radius: 1.2rem;
  box-shadow: 0 2px 8px #a78bfa33;
  z-index: 2;
  opacity: 0.96;
  letter-spacing: 0.04em;
}

/* --- MOBILE: General Phase Cards --- */
@media (max-width: 900px) {
  .phase-card {
    width: 92vw !important;
    max-width: 340px !important;
    min-width: 0 !important;
    margin: 0 auto 1.5rem auto !important;
    padding: 1.5rem 1rem !important;
    border-radius: 1.1rem !important;
    font-size: 1rem !important;
    background: #1f1f30 !important; /* Solid dark indigo-like background */
    border: 1.5px solid #312e81 !important;
    color: #e0e7ff !important;
    box-shadow: 0 6px 32px rgba(0, 0, 0, 0.25) !important;
  }

  .phase-card.phase-break {
    background: #4f46e5 !important; /* Solid purple (no gradient) */
    border: 2.5px dashed #a78bfa !important;
    color: #ffffff !important;
    box-shadow: 0 4px 32px rgba(167, 139, 250, 0.25) !important;
  }

  .phase-card.phase-break::before {
    top: 10px;
    right: 16px;
    font-size: 0.92rem;
    padding: 0.18rem 0.7rem;
  }
}


/* --- PHASE CARD TYPOGRAPHY --- */
.phase-title {
  font-size: 1.55rem !important;
  font-weight: 700 !important;
  color: #fff !important;
  margin-bottom: 0.5rem !important;
  line-height: 1.2 !important;
}
.phase-card .phase-description {
  font-size: 1.33rem !important;
  font-weight: 800 !important;
  color: #fff !important;
  margin-bottom: 0.5rem !important;
  line-height: 1.35 !important;
  letter-spacing: -0.01em;
}
.phase-card .phase-details {
  font-size: 1rem !important;
  color: #cbd5e1 !important;
}
.phase-card .phase-details span {
  font-size: 0.98rem !important;
  color: #cbd5e1 !important;
}
.phase-card .phase-details svg {
  width: 16px !important;
  height: 16px !important;
  margin-right: 0.2rem;
}

/* --- Remove step dots indicator --- */
.phase-stepper-enhanced-indicator span,
.phase-stepper-enhanced-indicator .step-dot {
  display: none !important;
}
.phase-stepper-enhanced-indicator {
  justify-content: center !important;
  align-items: center !important;
  font-size: 1.08rem !important;
  color: #a78bfa !important;
  gap: 0 !important;
}

/* --- Remove step dots in mobile indicator --- */
.mobile-step-indicator span {
  display: none !important;
}
.mobile-step-indicator {
  justify-content: center !important;
  align-items: center !important;
  font-size: 1.08rem !important;
  color: #a78bfa !important;
  gap: 0 !important;
}

/* --- Responsive tweaks for phase card --- */
@media (max-width: 600px) {
  .phase-card {
    padding: 1.1rem 0.7rem !important;
    border-radius: 0.85rem !important;
    font-size: 0.98rem !important;
  }
  .phase-title {
    font-size: 1.25rem !important;
  }
  .phase-card .phase-description {
    font-size: 1.1rem !important;
  }
  .phase-card .phase-details {
    font-size: 0.92rem !important;
  }
}
@media (max-width: 600px) {
  #response-view .container,
  #response-view .main-content {
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    max-width: 100vw !important;
    box-sizing: border-box !important;
    align-items: center !important;
  }
}
        
    </style>
    <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script> window.md = window.markdownit(); </script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/css/shepherd.css">
<script src="https://cdn.jsdelivr.net/npm/shepherd.js@10.0.1/dist/js/shepherd.min.js"></script>
<link rel="manifest" href="/mainapp_pwatest/manifest.webmanifest">
<meta name="theme-color" content="#7c3aed">
<script src="/mainapp_pwatest/pwa.js" defer></script>

</script>
  </head>
  <body>

      <div id="responses-loader" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(20,18,38,0.95);z-index:99999;display:flex;flex-direction:column;align-items:center;justify-content:center;">
    <div style="display:flex;flex-direction:column;align-items:center;gap:1.5rem;">
      <div style="width:64px;height:64px;border:6px solid #a78bfa;border-top:6px solid #e0aa3e;border-radius:50%;animation:spin 1s linear infinite;"></div>
      <div style="color:#fff;font-size:1.25rem;font-weight:600;">Loading Response Hub...</div>
    </div>
    <style>
      @keyframes spin { to { transform: rotate(360deg); } }
    </style>
  </div>
      
      <div class="container">
        <header class="header">
      <button id="mobileSidebarHamburger" class="md:hidden p-2 rounded bg-muted" style="position: absolute; left: 12px; top: 18px; z-index: 1;">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="4" y1="6" x2="20" y2="6"/>
        <line x1="4" y1="12" x2="20" y2="12"/>
        <line x1="4" y1="18" x2="20" y2="18"/>
      </svg>
    </button>
      <div id="back-button-container" class="hidden mt-4"></div>
    </header>
        
        <div class="max-w-6xl mx-auto">
          <div id="view-container" class="transition-all duration-300">
            <!-- Calendar View -->
            <div id="calendar-view">
              <div class="carousel">
                <div id="carousel-content" class="carousel-content"></div>
                <div class="carousel-controls">
                  <button id="carousel-prev" class="carousel-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="m15 18-6-6 6-6"></path>
                    </svg>
                  </button>
                  <button id="carousel-next" class="carousel-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="m9 18 6-6-6-6"></path>
                    </svg>
                  </button>
                </div>
              </div>
              
              <!-- Today's Events Section -->
              <div class="today-events">
                <div class="glass-effect card">
                  <div class="card-header">
                    <div class="card-title-container">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="calendar-check-icon">
                        <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
                        <line x1="16" x2="16" y1="2" y2="6"></line>
                        <line x1="8" x2="8" y1="2" y2="6"></line>
                        <line x1="3" x2="21" y1="10" y2="10"></line>
                        <path d="m9 16 2 2 4-4"></path>
                      </svg>
                      <h2 class="card-title">Today's Events</h2>
                    </div>
                    <div id="today-date" class="today-date"></div>
                  </div>
                  
                  <div class="card-content">
                    <div id="today-events-container" class="scroll-area"></div>
                  </div>
                </div>
                
                <!-- Preview Cards -->
                <div class="preview-cards">
                  <div class="glass-effect card">
                    <div class="card-header">
                      <div class="card-title-container">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="calendar-icon">
                          <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
                          <line x1="16" x2="16" y1="2" y2="6"></line>
                          <line x1="8" x2="8" y1="2" y2="6"></line>
                          <line x1="3" x2="21" y1="10" y2="10"></line>
                        </svg>
                        <h3 class="card-title-small">Upcoming Events</h3>
                      </div>
                    </div>
                    <div id="upcoming-events-container" class="card-content"></div>
                  </div>
                  
                  <div class="glass-effect card">
                    <div class="card-header">
                      <div class="card-title-container">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="calendar-check-icon">
                          <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
                          <line x1="16" x2="16" y1="2" y2="6"></line>
                          <line x1="8" x2="8" y1="2" y2="6"></line>
                          <line x1="3" x2="21" y1="10" y2="10"></line>
                          <path d="m9 16 2 2 4-4"></path>
                        </svg>
                        <h3 class="card-title-small">Recent Responses</h3>
                      </div>
                    </div>
                    <div id="recent-responses-container" class="card-content"></div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Events View -->
            <div id="events-view" class="hidden"></div>
            
            <!-- Response View -->
            <div id="response-view" class="hidden"></div>
          </div>
        </div>
      </div>
      
      <!-- Toast container -->
      <div id="toast-container" class="toast-container"></div>
      <script type='module' src="../tutorial.js"></script>
        <script src="./responses.js" type="module"></script>
        <script src="./Smartplan.js" type="module"></script>
        
<script type="module">
import { createSidebar } from '../sidebar.js';

function isMobile() {
  return window.innerWidth < 768;
}

let sidebarAPI = null;
let sidebarContainer = null;

function setContainerMargin(collapsed = false) {
  const main = document.querySelector('.container');
  if (!main) return;
  if (!isMobile() && sidebarAPI && sidebarAPI.isOpen && sidebarAPI.isOpen() && !collapsed) {
    main.style.marginLeft = '256px';
  } else {
    main.style.marginLeft = '';
  }
}

function setupDesktopSidebar() {
  // Only show sidebar for calendar view and desktop
  const calendarView = document.getElementById('calendar-view');
  if (!isMobile() && calendarView && !calendarView.classList.contains('hidden')) {
    if (!sidebarAPI) {
      sidebarAPI = createSidebar();
      sidebarContainer = sidebarAPI.getElement();
      document.body.appendChild(sidebarContainer);

      // Listen for collapse/expand events
      if (sidebarAPI.onCollapse) {
        sidebarAPI.onCollapse((collapsed) => {
          setContainerMargin(collapsed);
        });
      } else {
        // Fallback: observe sidebar element for collapse class
        const observer = new MutationObserver(() => {
          const collapsed = sidebarContainer.classList.contains('collapsed');
          setContainerMargin(collapsed);
        });
        observer.observe(sidebarContainer, { attributes: true, attributeFilter: ['class'] });
      }
    }
    // Hide hamburger on desktop
    const hamburger = document.getElementById('mobileSidebarHamburger');
    if (hamburger) hamburger.style.display = 'none';
    setContainerMargin(false);
  } else {
    // Remove sidebar if not calendar view or on mobile
    if (sidebarContainer && sidebarContainer.parentNode) {
      sidebarContainer.parentNode.removeChild(sidebarContainer);
    }
    sidebarAPI = null;
    sidebarContainer = null;
    setContainerMargin(true);
    // Show hamburger on mobile for calendar view
    const hamburger = document.getElementById('mobileSidebarHamburger');
    if (hamburger) hamburger.style.display = (isMobile() && calendarView && !calendarView.classList.contains('hidden')) ? 'block' : 'none';
  }
}

function showMobileSidebar() {
  // Only show sidebar for calendar view and mobile
  const calendarView = document.getElementById('calendar-view');
  if (isMobile() && calendarView && !calendarView.classList.contains('hidden')) {
    if (!sidebarAPI) {
      import('../sidebar.js').then(({ createSidebar }) => {
        sidebarAPI = createSidebar();
        sidebarContainer = sidebarAPI.getElement();
        document.body.appendChild(sidebarContainer);

        // Observe sidebar close (X)
        const observer = new MutationObserver(() => {
          if (!sidebarAPI.isOpen()) {
            if (sidebarContainer && sidebarContainer.parentNode) {
              sidebarContainer.parentNode.removeChild(sidebarContainer);
            }
            sidebarAPI = null;
            sidebarContainer = null;
            observer.disconnect();
          }
        });
        observer.observe(sidebarContainer, { childList: true, subtree: true });
        sidebarAPI.toggle(); // Open sidebar
      });
    } else {
      sidebarAPI.toggle();
    }
  }
}

// Hamburger click handler
document.getElementById('mobileSidebarHamburger').addEventListener('click', () => {
  const calendarView = document.getElementById('calendar-view');
  if (isMobile() && calendarView && !calendarView.classList.contains('hidden')) {
    showMobileSidebar();
    console.log('Mobile: Sidebar should open');
  } else {
    console.log('Sidebar only available on calendar view');
  }
});

// Listen for view changes to update sidebar/hamburger
function updateSidebarOnViewChange() {
  setupDesktopSidebar();
}

// Example: If you switch views via JS, call updateSidebarOnViewChange()
// You may need to hook this into your navigation logic

window.addEventListener('resize', setupDesktopSidebar);
document.addEventListener('DOMContentLoaded', setupDesktopSidebar);

// If you have custom navigation, call updateSidebarOnViewChange() after changing views
// For example, after switching to calendar view:
// updateSidebarOnViewChange();

// Optionally, observe view changes if you use classes to show/hide views
const observer = new MutationObserver(() => {
  updateSidebarOnViewChange();
});
observer.observe(document.getElementById('view-container'), { childList: true, subtree: true, attributes: true });

</script>
  </body>
</html>